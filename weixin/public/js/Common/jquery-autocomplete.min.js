jQuery.autocomplete=function(n,t){function w(){r={};r.data={};r.length=0}function nt(){if(c==46||c>8&&c<32)return u.hide();var n=i.val();n!=h&&(h=n,n.length>=t.minChars?(i.addClass(t.loadingClass),vt(n)):(i.removeClass(t.loadingClass),u.hide()))}function tt(n){var t=$("li",f);t&&(o+=n,o<0?o=0:o>=t.size()&&(o=t.size()-1),t.removeClass("ac_over"),$(t[o]).addClass("ac_over"))}function ot(){var n=$("li.ac_over",f)[0],i;return n||(i=$("li",f),t.selectOnly?i.length==1&&(n=i[0]):t.selectFirst&&(n=i[0])),n?(k(n),!0):!1}function k(r){r||(r=document.createElement("li"),r.extra=[],r.selectValue="");var f=$.trim(r.selectValue?r.selectValue:r.innerHTML);n.lastSelected=f;h=f;u.html("");i.val(f);a();t.onItemSelect&&setTimeout(function(){t.onItemSelect(r)},1)}function st(n,t){var r=i.get(0),u;r.createTextRange?(u=r.createTextRange(),u.collapse(!0),u.moveStart("character",n),u.moveEnd("character",t),u.select()):r.setSelectionRange?r.setSelectionRange(n,t):r.selectionStart&&(r.selectionStart=n,r.selectionEnd=t);r.focus()}function ht(n){c!=8&&(i.val(i.val()+n.substring(h.length)),st(h.length,n.length))}function ct(){var r=yt(n),f=t.width>0?t.width:i.width();u.css({width:parseInt(f)+"px",top:r.y+n.offsetHeight+"px",left:r.x+"px"}).show()}function lt(){e&&clearTimeout(e);e=setTimeout(a,200)}function a(){if(e&&clearTimeout(e),i.removeClass(t.loadingClass),u.is(":visible")&&u.hide(),t.mustMatch){var r=i.val();r!=n.lastSelected&&k(null)}}function it(n,r){if(r){if(i.removeClass(t.loadingClass),f.innerHTML="",!p||r.length==0)return a();f.appendChild(at(r));t.autoFill&&i.val().toLowerCase()==n.toLowerCase()&&ht(r[0][0]);ct()}else a()}function rt(n){var i,u,r,f;if(!n)return null;for(i=[],u=n.split(t.lineSeparator),r=0;r<u.length;r++)f=$.trim(u[r]),f&&(i[i.length]=f.split(t.cellSeparator));return i}function at(n){var e=document.createElement("ul"),s=n.length,u,i,r,f,h;for(t.maxItemsToShow>0&&t.maxItemsToShow<s&&(s=t.maxItemsToShow),u=0;u<s;u++)if(i=n[u],i){if(r=document.createElement("li"),t.formatItem?(r.innerHTML=t.formatItem(i,u,s),r.selectValue=i[0]):(r.innerHTML=i[0],r.selectValue=i[0]),f=null,i.length>1)for(f=[],h=1;h<i.length;h++)f[f.length]=i[h];r.extra=f;e.appendChild(r);$(r).hover(function(){$("li",e).removeClass("ac_over");$(this).addClass("ac_over");o=$("li",e).indexOf($(this).get(0))},function(){$(this).removeClass("ac_over")}).click(function(n){n.preventDefault();n.stopPropagation();k(this)})}return e}function vt(n){t.matchCase||(n=n.toLowerCase());var r=t.cacheLength?ft(n):null;r?it(n,r):typeof t.url=="string"&&t.url.length>0?$.get(ut(n),function(t){t=rt(t);g(n,t);it(n,t)}):i.removeClass(t.loadingClass)}function ut(n){var i=t.url+"?q="+escape(n),r=t.extraParams?typeof t.extraParams=="function"?t.extraParams():t.extraParams:{};for(var u in r)i+="&"+u+"="+escape(r[u]);return i}function ft(n){return n?r.data[n]?r.data[n]:null:null}function d(n,r){var h,f,e,u,o,s;for(r&&i.removeClass(t.loadingClass),h=r?r.length:0,f=null,e=0;e<h;e++)if(u=r[e],u[0].toLowerCase()==n.toLowerCase()){if(f=document.createElement("li"),t.formatItem?(f.innerHTML=t.formatItem(u,e,h),f.selectValue=u[0]):(f.innerHTML=u[0],f.selectValue=u[0]),o=null,u.length>1)for(o=[],s=1;s<u.length;s++)o[o.length]=u[s];f.extra=o}t.onFindValue&&setTimeout(function(){t.onFindValue(f)},1)}function g(n,i){i&&n&&t.cacheLength&&(!r.length||r.length>t.cacheLength?(w(),r.length++):r[n]||r.length++,r.data[n]=i)}function yt(n){for(var t=n.offsetLeft||0,i=n.offsetTop||0;n=n.offsetParent;)t+=n.offsetLeft,i+=n.offsetTop;return{x:t,y:i}}var et=this,i,f,u,s,b;t.inputClass=t.inputClass||"ac_input";t.resultsClass=t.resultsClass||"ac_results";t.lineSeparator=t.lineSeparator||"\n";t.cellSeparator=t.cellSeparator||"|";t.minChars=t.minChars||1;t.delay=t.delay||400;t.matchCase=t.matchCase||0;t.matchSubset=t.matchSubset||1;t.matchContains=t.matchContains||0;t.cacheLength=t.cacheLength||1;t.mustMatch=t.mustMatch||0;t.extraParams=t.extraParams||{};t.loadingClass=t.loadingClass||"ac_loading";t.selectFirst=t.selectFirst||!1;t.selectOnly=t.selectOnly||!1;t.maxItemsToShow=t.maxItemsToShow||-1;t.autoFill=t.autoFill||!1;t.width=parseInt(t.width,10)||0;t.enterPressCallBack=t.enterPressCallBack&&typeof t.enterPressCallBack=="function"?t.enterPressCallBack:null;i=$(n).attr("autocomplete","off");t.inputClass&&i.addClass(t.inputClass);f=document.createElement("div");u=$(f);u.hide().addClass(t.resultsClass).css("position","absolute");t.width>0&&u.css("width",t.width);$("body").append(f);n.autocompleter=et;var e=null,h="",o=-1,r={},p=!1,c=null;if(w(),t.data!=null){var v="",l={},y=[];for(typeof t.url!="string"&&(t.cacheLength=1),s=0;s<t.data.length;s++)y=typeof t.data[s]=="string"?[t.data[s]]:t.data[s],y[0].length>0&&(v=y[0].substring(0,1).toLowerCase(),l[v]||(l[v]=[]),l[v].push(y));for(b in l)t.cacheLength++,g(b,l[b])}i.keydown(function(n){c=n.keyCode;switch(n.keyCode){case 38:n.preventDefault();tt(-1);break;case 40:n.preventDefault();tt(1);break;case 9:case 13:ot()?n.preventDefault():(t.enterPressCallBack&&t.enterPressCallBack(),n.preventDefault());break;default:o=-1;e&&clearTimeout(e);e=setTimeout(function(){nt()},t.delay)}}).focus(function(){p=!0}).blur(function(){p=!1;lt()}).bind("input",function(){nt(0,!0)});a();this.flushCache=function(){w()};this.setExtraParams=function(n){t.extraParams=n};this.findValue=function(){var n=i.val(),r;t.matchCase||(n=n.toLowerCase());r=t.cacheLength?ft(n):null;r?d(n,r):typeof t.url=="string"&&t.url.length>0?$.get(ut(n),function(t){t=rt(t);g(n,t);d(n,t)}):d(n,null)}};jQuery.fn.autocomplete=function(n,t,i){return t=t||{},t.url=n,t.data=typeof i=="object"&&i.constructor==Array?i:null,this.each(function(){var n=this;new jQuery.autocomplete(n,t)}),this};jQuery.fn.autocompleteArray=function(n,t){return this.autocomplete(null,t,n)};jQuery.fn.indexOf=function(n){for(var t=0;t<this.length;t++)if(this[t]==n)return t;return-1};
//# sourceMappingURL=jquery-autocomplete.min.js.map
